<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chat Rooms - Join or Create</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8038820261076298"
     crossorigin="anonymous"></script>
</head>
<body class="home-page">
    <div class="container">
        <div class="spline-pane">
            <iframe
                src="https://my.spline.design/robotfollowcursorforlandingpage-OK2qOs0sZMt4m9sy6pilkBXz/"
                title="Tech Inspired 3D Scene"
                frameborder="0"
                loading="lazy"
                allowfullscreen>
            </iframe>
        </div>
        <div class="card">
            <div class="header">
                <h1>VibelyVerse</h1>
                <p>Real-time Communication</p>
            </div>

            <div class="content">
                <div id="landingChoices" class="landing-choices">
                    <h3>Choose Chat Mode</h3>
                    <div class="landing-actions">
                        <button id="showJoinRoomFlowBtn" type="button" class="btn btn-primary">Join Room</button>
                        <a id="openRandomChatBtn" href="random.html" class="btn btn-vemege">Random Chat</a>
                        <a href="ranters.html" class="btn btn-ranters">Ranters</a>
                    </div>
                </div>

                <div id="roomFlow" style="display: none;">
                    <button id="backToChoicesBtn" type="button" class="btn btn-back">Back</button>

                    <!-- Tab Navigation -->
                    <div class="tabs">
                        <button class="tab-btn active" data-tab="join-tab">Join Room</button>
                        <button class="tab-btn" data-tab="private-join-tab">Join Private Room</button>
                        <button class="tab-btn" data-tab="create-tab">Create Room</button>
                    </div>

                    <!-- Join Room Tab -->
                    <div id="join-tab" class="tab-content active">
                        <div class="join-hint">Select a public room. You will be asked for a name before joining.</div>
                        <div class="public-rooms-section join-public-rooms">
                            <h3>Available Public Rooms</h3>
                            <div id="publicRoomsList" class="public-rooms-list">
                                <p class="empty-state">No public rooms yet.</p>
                            </div>
                        </div>
                    </div>

                    <!-- Private Join Tab -->
                    <div id="private-join-tab" class="tab-content">
                        <form id="privateJoinForm">
                            <div class="form-group">
                                <label for="privateJoinUsername">Your Name</label>
                                <input type="text" id="privateJoinUsername" placeholder="Enter your username" maxlength="30" required>
                            </div>

                            <div class="form-group">
                                <label for="privateJoinRoomId">Private Room ID</label>
                                <input type="text" id="privateJoinRoomId" placeholder="Enter private room ID" maxlength="50" required>
                            </div>

                            <div class="form-group">
                                <label for="privateJoinPassword">Room Password</label>
                                <input type="password" id="privateJoinPassword" placeholder="Enter room password" maxlength="50" required>
                            </div>

                            <button type="submit" class="btn btn-primary">Join Private Room</button>
                        </form>
                    </div>

                    <!-- Create Room Tab -->
                    <div id="create-tab" class="tab-content">
                        <form id="createForm">
                            <div class="form-group">
                                <label for="createUsername">Your Name</label>
                                <input type="text" id="createUsername" placeholder="Enter your username" maxlength="30" required>
                            </div>

                            <div class="form-group">
                                <label for="createRoomId">Room ID</label>
                                <input type="text" id="createRoomId" placeholder="Enter unique room ID" maxlength="50" required>
                            </div>

                            <div class="form-group">
                                <label for="maxSeats">Maximum Seats (1-100)</label>
                                <input type="number" id="maxSeats" min="1" max="100" value="10" required>
                            </div>

                            <div class="form-group">
                                <label>Room Type</label>
                                <div class="room-type-group">
                                    <label class="radio-option">
                                        <input type="radio" name="roomType" value="public" checked>
                                        <span>Public (visible to everyone)</span>
                                    </label>
                                    <label class="radio-option">
                                        <input type="radio" name="roomType" value="private">
                                        <span>Private (password protected)</span>
                                    </label>
                                </div>
                            </div>

                            <div class="form-group" id="createPasswordGroup" style="display: none;">
                                <label for="createPassword">Room Password</label>
                                <input type="password" id="createPassword" placeholder="Enter password for private room" minlength="4" maxlength="50">
                            </div>

                            <button type="submit" class="btn btn-primary">Create Room</button>
                        </form>
                    </div>

                    <!-- Error Message Display -->
                    <div id="errorMessage" class="error-message" style="display: none;"></div>
                </div>
            </div>
        </div>

    </div>

    <script src="https://cdn.socket.io/4.5.4/socket.io.js"></script>
    <script src="client.js"></script>
</body>
</html>
